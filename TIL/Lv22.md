# 캐릭터 컨트롤러 복습 정리

## 1. GameMode 클래스 생성 및 기본 게임모드 지정
### GameMode 클래스 생성
- **EomcriGamemode** 클래스를 생성하고 프로젝트의 기본 게임모드로 설정.
- GameMode는 게임의 기본 규칙과 플레이어의 Pawn을 관리하는 역할을 함.

#### 코드 예시
```cpp
// EomcriGamemode.h
#include "CoreMinimal.h"
#include "GameFramework/GameModeBase.h"
#include "EomcriGamemode.generated.h"

UCLASS()
class EOMCRI_API AEomcriGamemode : public AGameModeBase
{
    GENERATED_BODY()

public:
    AEomcriGamemode();
};
```

## 2. 캐릭터 클래스 생성
### EomcriCharacter 클래스 생성
- **EomcriCharacter** 클래스를 생성하고 캐릭터 이동, 점프, 카메라 제어 등을 담당.
- 기본 컴포넌트: CapsuleComponent, SkeletalMeshComponent, SpringArmComponent, CameraComponent

#### 코드 예시
```cpp
// EomcriCharacter.h
#include "CoreMinimal.h"
#include "GameFramework/Character.h"
#include "EomcriCharacter.generated.h"

UCLASS()
class EOMCRI_API AEomcriCharacter : public ACharacter
{
    GENERATED_BODY()

public:
    AEomcriCharacter();

protected:
    virtual void SetupPlayerInputComponent(class UInputComponent* PlayerInputComponent) override;
};
```

## 3. IA(Move, Jump, Look, Sprint) 및 IMC 지정
### 입력 액션(IA) 및 입력 매핑 컨텍스트(IMC) 설정
- 입력 액션을 Move, Jump, Look, Sprint로 구분하여 설정.
- 프로젝트 설정에서 입력 매핑 컨텍스트(IMC)를 통해 키와 액션을 매핑.

#### 예시 입력 매핑
- **Move:** WASD 또는 방향키
- **Jump:** Space 키
- **Look:** 마우스 이동
- **Sprint:** Left Shift

## 4. UInputComponent를 통한 입력 처리
### 입력 바인딩
- UInputComponent를 통해 입력 이벤트와 캐릭터의 동작 함수 바인딩

#### 코드 예시
```cpp
void AEomcriCharacter::SetupPlayerInputComponent(UInputComponent* PlayerInputComponent)
{
    Super::SetupPlayerInputComponent(PlayerInputComponent);
    
    // 이동 및 점프 입력 바인딩
    PlayerInputComponent->BindAxis("MoveForward", this, &AEomcriCharacter::MoveForward);
    PlayerInputComponent->BindAction("Jump", IE_Pressed, this, &ACharacter::Jump);
}

void AEomcriCharacter::MoveForward(float Value)
{
    if (Controller && Value != 0.0f)
    {
        AddMovementInput(GetActorForwardVector(), Value);
    }
}
```

## 5. PlayerController를 통한 실제 움직임 구현
### EomcriPlayerController 클래스 생성
- PlayerController는 입력을 받아 캐릭터의 동작을 직접 제어하는 역할을 담당함.

#### 코드 예시
```cpp
// EomcriPlayerController.h
#include "CoreMinimal.h"
#include "GameFramework/PlayerController.h"
#include "EomcriPlayerController.generated.h"

UCLASS()
class EOMCRI_API AEomcriPlayerController : public APlayerController
{
    GENERATED_BODY()

protected:
    virtual void SetupInputComponent() override;
};

// EomcriPlayerController.cpp
void AEomcriPlayerController::SetupInputComponent()
{
    Super::SetupInputComponent();

    // 입력 처리 예시
    InputComponent->BindAxis("Turn", this, &AEomcriPlayerController::AddYawInput);
    InputComponent->BindAction("Sprint", IE_Pressed, this, &AEomcriPlayerController::StartSprinting);
}

void AEomcriPlayerController::StartSprinting()
{
    UE_LOG(LogTemp, Warning, TEXT("Sprint 시작"));
}
```

---
## 결론
- GameMode, Character, PlayerController 클래스를 통해 언리얼 엔진에서 캐릭터 컨트롤러의 구조와 동작을 복습함.
- IA 및 IMC 설정을 통해 보다 체계적으로 입력 이벤트를 관리할 수 있음.

